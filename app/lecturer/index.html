<!DOCTYPE html>
<html lang="en">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta charset="UTF-8" name="theme-color" content="#43a047">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no" />
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <link href="../css/materialize.min.css" type="text/css" rel="stylesheet" media="screen,projection" />
    <link href="../css/font-awesome.min.css" type="text/css" rel="stylesheet" media="screen,projection" />
    <link href="../css/style.css" type="text/css" rel="stylesheet" media="screen,projection" />
    <link rel="icon" href="../img/icon.png" />
    <link rel="apple-touch-icon" href="img/icon.png" />
    <link href='https://fonts.googleapis.com/css?family=Exo+2:600' rel='stylesheet' type='text/css'>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="manifest" href="manifest.json">
    <title>Clicker | Lecturer</title>
</head>
<header>
    <div class="navbar-fixed">
        <nav>
            <div class="nav-wrapper green darken-1">
                <a class="brand-logo center">
                    <span class="pageChangerButton logo center btn hidebtn" value="home">Clicker</span>
                </a>
                <a class="left show-on-large backButton btn hidebtn" style="display: none;"><i class="material-icons">keyboard_arrow_left</i><br></a>
                <a class="right show-on-large logoutButton btn hidebtn"><i class="material-icons">power_settings_new</i><br></a>
            </div>
        </nav>
    </div>
</header>
<main class="green lighten-5">
    <div class="row">
        <div id="home" class="page" style="display: none;">
            <div class="green">
                <div class="container white-text">
                    <br>
                    <h5 class="logo">Welcome, <span class="usernameDisplay">ERR</span>.</h5>
                    <br>
                </div>
            </div>
            <br>
            <div class="container">
                <div class="green card">
                    <div class="container white-text">
                        <br>
                        <h5 class="logo">Owned Classes</h5>
                        <br>
                    </div>
                    <div class="container">
                        <ul class="collection classes"></ul>
                        <br>
                    </div>
                </div>
            </div>
            <br>
            <div class="center-align">
                <a id="addClassButton" class="waves-effect waves-light btn purple">New Class</a>
                <br>
                <br>
            </div>
        </div>
        <div id="lectures" class="page" style="display: none;">
            <div class="green">
                <div class="container white-text">
                    <br>
                    <h5 class="logo className">Class Name</h5>
                    <br>
                </div>
            </div>
            <br>
            <div class="container">
                <div class="green card">
                    <div class="container white-text">
                        <br>
                        <h5 class="logo">Lectures</h5>
                        <br>
                    </div>
                    <div class="container">
                        <ul class="collection lecturesList"></ul>
                    </div>
                    <br>
                </div>
            </div>
            <div class="center">
                <br>
                <a id="classPageEditButton" class="waves-light waves-effect purple btn classEditButton center">Edit Class</a>
            </div>
        </div>
        <div id="questions" class="page" style="display: none;">
            <div class="green">
                <div class="container white-text">
                    <br>
                    <h5 class="logo lectureTitle">Lecture Title</h5>
                    <br>
                </div>
            </div>
            <br>
            <div class="container">
                <div class="green card">
                    <div class="container white-text">
                        <br>
                        <h5 class="logo">Questions<a id="lectureResponse" class="waves-effect waves-light btn purple getResponsesButton right">Responses</a></h5>
                        <br>
                    </div>
                    <div class="container">
                        <ul class="collection questionList">
                        </ul>
                    </div>
                    <br>
                </div>
            </div>
            <br>
            <div class="center">
                <a id="lecturePageEditButton" class="waves-light waves-effect purple btn lectureEditButton center">Edit Lecture</a>
            </div>
            <br>
        </div>
        <div id="question" class="page" style="display: none;">
            <p>You Shouldn't be seeing this.</p>
        </div>
        <div id="responses" class="page" style="display: none;">
            <div class="col s12 center green white-text">
                <br>
                <h5 id="responseHeader" class="logo"></h5>
                <br>
            </div>
            <div class="container valign-wrapper">
                <div class="questionDiv col s12 m12 l12">
                    <canvas id="responsesCanvas" class="responseDisplay"></canvas>
                </div>
                <div class="col s12 m12 l12">
                    <div id="responsesNumber"></div>
                    <div id="js-legend" class="chart-legend"></div>
                </div>
            </div>
            <div class="container">
                <div class="col s12 center-align">
                    <div id="responseSelection" class="responseQuestionSelect"></div>
                </div>
            </div>
        </div>
        <div id="editClass" class="page" style="display: none;">
            <div id="editClassInfo">

            </div>
        </div>
        <div id="editLecture" class="page" style="display: none;">
            <div id="editLectureInfo">

            </div>
        </div>
        <div id="questions" class="page" style="display: none;">
            <div class="green white-text">
                <div class="container">
                    <br>
                    <h5 class="logo">Lecturer Questions page</h5>
                </div>
            </div>
        </div>
    </div>
</main>
<footer class="page-footer green darken-1 ">
    <div class="footer-copyright">
        <div class="container">
            <div class="col s6 left">
                <a class="white-text" href="../about.html">About</a>
            </div>
            <div class="col s6 right">
                <a class="white-text">Â© Paul McGurk</a>
            </div>
        </div>
    </div>
</footer>
<script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
<script src="../js/materialize.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/3.0.1/handlebars.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/1.0.2/Chart.min.js"></script>
<script src="js/Model.js"></script>
<script src="js/View.js"></script>
<script src="js/Controller.js"></script>
<script id="buttonTemplate" type="text/x-handlebars-template">
    <a class='waves-effect waves-light btn {{colour}}' value='{{value}}' qid='{{qid}}'>{{value}}</a>
</script>
<script id="classesTemplate" type="text/x-handlebars-template">
    <li class="collection-item {{#if greyed}}grey{{else}}purple{{/if}} white-text">
        <div class="row">
            <div class="col s12">
                <span class="logo">{{code}}: {{name}}</span>
            </div>
            <div class="col s8">
                <p class="white-text">{{description}}
                    <br> {{realname}}
                </p>
            </div>
            <div class="col s4">
                <div class="switch right">
                    <label>
                        <input class="visibilityChanger" type="checkbox" cid="{{cid}}" id="vc{{cid}}" {{#if greyed}}checked{{/if}}/>
                        <label for="vc{{cid}}"><i class="material-icons">{{#if greyed}}lock_outline{{else}}<i class="material-icons">lock_open</i>{{/if}}</i>
                        </label>
                    </label>
                </div>
            </div>
            <div class="col s6">
                <a class="waves-light waves-effect green btn classSelectionButton" value="{{cid}}">Open</a>
            </div>
            <div class="col s6">
                <a class="waves-light waves-effect red btn classEditButton right" value="{{cid}}">Edit</a>
            </div>
        </div>
    </li>
</script>
<script id="lecturesTemplate" type="text/x-handlebars-template">
    <li class="collection-item {{#if greyed}}grey{{else}}purple{{/if}}">
        <div class="row">
            <div class="col s12">
                <span class="logo white-text">{{date}}: {{title}}</span>
            </div>
            <div class="col s8">
                <p class="white-text">{{description}}
                </p>
            </div>
            <div class="col s4">
                <div class="switch right">
                    <label class="visibilityChangerLabel">
                        <input class="visibilityChanger" type="checkbox" lid="{{lid}}" id="vc{{lid}}" {{#if greyed}}checked{{/if}}/>
                        <label for="vc{{lid}}"><i class="material-icons">{{#if greyed}}lock_outline{{else}}<i class="material-icons">lock_open</i>{{/if}}</i>
                        </label>
                    </label>
                </div>
            </div>
            <div class="col s6">
                <a class="waves-light waves-effect green btn lectureSelectionButton" lid="{{lid}}">Open</a>
            </div>
            <div class="col s6">
                <a class="waves-light waves-effect red btn lectureEditButton right" lid="{{lid}}">Edit</a>
            </div>
            <br>
            <br>
        </div>
    </li>
</script>
<script id="questionsTemplate" type="text/x-handlebars-template">
    <li class="collection-item {{#if greyed}}grey{{else}}purple{{/if}}" value="{{qid}}">
        <a class="white-text">
            <div class="row">
                <div class="col s8">
                    <h5 class="logo">Question {{qnum}} </h5>
                </div>
                <div class="col s4">
                    <div class="switch right">
                        <label class="visibilityChangerLabel">
                            <input class="visibilityChanger" type="checkbox" qid="{{qid}}" id="vc{{qid}}" {{#if greyed}}checked{{/if}}/>
                            <label for="vc{{qid}}"><i class="material-icons">{{#if greyed}}lock_outline{{else}}<i class="material-icons">lock_open</i>{{/if}}</i>
                            </label>
                        </label>
                    </div>
                </div>
                <br>
                <br>
                <div class="col s6">
                    <a class="waves-effect waves-light btn green questionSelectionButton" value="{{qid}}">Open</a>
                </div>
                <div class="col s6">
                    <a class="waves-effect waves-light btn green getResponsesButton right" value="{{qid}}">Responses</a>
                </div>
                <br>
                <br>
            </div>
        </a>
    </li>
</script>
<script id="questionTemplate" type="text/x-handlebars-template">
    <div id="questionHeader" class="col s12 white-text green valign-wrapper">
        <div class="col s12">
            <h4 id="questionNumber" class="center-align logo">Question {{qnum}}</h4>
        </div>
    </div>
    <div id="currentQuestion" class="col s12">
        <div class="container valign-wrapper">
            <div class="col s1">
                <a class="btn-floating waves-effect waves-light purple previousQuestionButton right"><i class="material-icons">keyboard_arrow_left</i></a>
            </div>
            <div class="questionDiv card green white-text col s10">
                <div id="questionTextDiv" style="height: 45vh" class="valign-wrapper">
                    <h5 class="logo flow-text">{{text}}</h5>
                </div>
            </div>
            <div class="col s1">
                <a class="btn-floating waves-effect waves-light purple nextQuestionButton"><i class="material-icons">keyboard_arrow_right</i></a>
            </div>
        </div>
        <div class="buttonDiv center col s12">
            {{{buttonHTML}}}
        </div>
    </div>
</script>
<script id="questionEditTemplate" type="text/x-handlebars-template">
    <br>
    <form class="questionForm green">
        <div class="container">
            <br>
            <h4 class="logo">Question {{qnum}}</h4> (QID: {{qid}})<a class="waves-effect waves-light btn red questionEditRemoveButton right" qnum="{{qnum}}">Remove</a>
            <br>
            <div class="switch">
                <label>
                    not removed
                    <input class="removeQuestionSwitch" type="checkbox" qnum="{{qnum}}">
                    <span class="lever"></span> removed (temp)
                </label>
            </div>
            <div class="switch">
                {{#if unchecked}}
                <label>
                    invisible
                    <input name="visibleQuestionSwitch" type="checkbox">
                    <span class="lever"></span> visible
                </label>
                {{else}}
                <label>
                    invisible
                    <input name="visibleQuestionSwitch" type="checkbox" checked>
                    <span class="lever"></span> visible
                </label>
                {{/if}}
            </div>
            <div class="row">
                <textarea name="text" id="textarea1" class="materialize-textarea">{{text}}</textarea>
                <label for="textarea1">Question</label>
            </div>
            <div class="row">
                <h5 class="logo">Answer Type</h5>
                <div class="buttonCreationForm col s12 white " qnum="{{qnum}}">
                    {{{buttonsHTML}}}
                </div>
                <div class="center col s12">
                    <a class="btn addMoreButtonsButton purple center" qnum="{{qnum}}">Add More Options</a>
                    <br>
                    <br>
                </div>
            </div>
            <textarea name="qid" class="materialize-textarea" style="display: none;">{{qid}}</textarea>
        </div>
    </form>
</script>
<script id="buttonCreationTemplate" type="text/x-handlebars-template">
    <div class="row createButtonJSONWrapper col s12 m4 l3" buttonID="{{bID}}">
        <div class="{{colour}} card">
            <br>
            <br>
            <div class="container">
                <div class="createButtonJSONForm" qnum="{{qnum}}">
                    <div class="row">
                        <div class="input-field col s12">
                            <input value="{{value}}" name="buttontext" type="text">
                            <label for="buttontext" class="white-text active">Button Text</label>
                        </div>
                        <br>
                        <br>
                        <div class="input-field col s6" style="display: none;">
                            <input value="{{value}}" name="buttonvalue" type="text">
                            <label for="buttonvalue" class="white-text active">Button Value</label>
                        </div>
                        <div class="col s12">
                            {{#if isAnswer}}
                            <input name="group{{qnum}}" type="radio" id="test{{bID}}" value="buttonanswer" checked/> {{else}}
                            <input name="group{{qnum}}" type="radio" id="test{{bID}}" value="buttonanswer" /> {{/if}}
                            <label for="test{{bID}}">Set As Answer</label>
                            <br>
                            <br>
                        </div>
                    </div>
                </div>
                <div class="col s12 center">
                    <a class="btn purple buttonCreationRemoveButton" buttonID="{{bID}}">Remove</a>
                    <br>
                </div>
            </div>
            <br>
            <br>
        </div>
    </div>
</script>
<script id="classEditTemplate" type="text/x-handlebars-template">
    <div class="container">
        <div class="green card white-text">
            <form id="classEditForm">
                <br>
                <div class="input-field col s4">
                    <input value="{{code}}" name="classCodeEdit" type="text">
                    <label for="classCodeEdit" class="white-text active">Class code</label>
                </div>
                <div class="input-field col s8">
                    <input value="{{name}}" name="classNameEdit" type="text">
                    <label for="classNameEdit" class="white-text active">Class name</label>
                </div>
                <br>
                <div class="input-field col s12">
                    <textarea name="classDescriptionEdit" class="materialize-textarea">{{description}}</textarea>
                    <label for="classDescriptionEdit" class="white-text active">Class Description</label>
                </div>
                <div class="center">
                    <div class="switch col s6">
                        <label>
                            invisible {{# if visible}}
                            <input type="checkbox" name="classEditVisible" checked> {{else}}
                            <input type="checkbox" name="classEditVisible"> {{/if}}
                            <span class="lever"></span> visible
                        </label>
                    </div>
                    <div class="switch col s6">
                        <label>
                            closed {{# if isjoinable}}
                            <input type="checkbox" name="classEditJoinable" checked> {{else}}
                            <input type="checkbox" name="classEditJoinable"> {{/if}}
                            <span class="lever"></span> joinable
                        </label>
                    </div>
                    <div class="switch" style="display: none;">
                        <label>
                            <input type="checkbox" class="classEditRemove" cid="{{cid}}">
                            <span class="lever"></span>
                        </label>
                    </div>
                </div>
                <h5 class="green-text">a</h5>
            </form>
        </div>
        <div class="green card white-text">
            <ul class="collapsible green">
                <li>
                    <div class="collapsible-header"><i class="large material-icons">recent_actors</i>Enrolled Students</div>
                    <div class="collapsible-body">
                        <table class="centered bordered">
                            <thead class="white-text">
                                <tr>
                                    <th data-field="id">Uid</th>
                                    <th data-field="name">Username</th>
                                    <th data-field="price">Real Name</th>
                                    <th data-field="price">Remove</th>
                                </tr>
                            </thead>
                            <tbody>
                                {{{studentHTML}}}
                            </tbody>
                        </table>
                    </div>
                </li>
            </ul>
        </div>
        <div class="green card white-text">
            <div class="container">
                <br> {{#if lecturesHTML}}
                <h5 class="logo">Lectures</h5>
                <ul class="collection" id="editClassInfoLectures">
                    {{{lecturesHTML}}}
                </ul>
                <br> {{else}}
                <br>
                <h5 class="logo">No Lectures</h5>
                <h6>To add lectures, save the class first.</h6>
                <br> {{/if}}
            </div>
        </div>
        <br> {{#if code}}
        <div class="center-align">
            <a id="addLectureButton" class="waves-effect waves-light btn purple" cid="{{cid}}">New Lecture</a>
            <br>
            <br>
        </div>
        <div class="center-align">
            <a class="waves-effect waves-light btn green classEditSaveButton" cid="{{cid}}">Save</a>
            <a class="btn backButton red waves-effect waves-light">Cancel</a>
            <br>
            <br>
            <a class="btn red waves-effect waves-light classDeleteButton" cid="{{cid}}">MARK CLASS FOR DELETION</a>
            <br>
            <br>
        </div>
        {{else}}
        <div class="center-align">
            <a class="waves-effect waves-light btn green classNewSaveButton">Save</a>
            <a class="btn backButton red waves-effect waves-light">Cancel</a>
            <br>
            <br>
        </div>
        {{/if}}
    </div>
</script>
<script id="lectureEditTemplate" type="text/x-handlebars-template">
    <div class="container">
        <div class="white-text">
            <div class="green card">
                <form id="lectureEditForm">
                    <br>
                    <div class="input-field col s6">
                        <input value="{{title}}" name="lectureTitleEdit" type="text">
                        <label for="lectureTitleEdit" class="white-text active">Lecture Title</label>
                    </div>
                    <div class="input-field col s6">
                        <input value="{{date}}" type="date" class="datepicker">
                    </div>
                    <div class="input-field col s12">
                        <textarea name="lectureDescriptionEdit" class="materialize-textarea">{{description}}</textarea>
                        <label for="lectureDescriptionEdit" class="white-text active">Lecture Description</label>
                    </div>
                    <div class="switch col s12">
                        <label>
                            {{#if invisible}}
                            <input type="checkbox" name="lectureEditVisible"> {{else}}
                            <input type="checkbox" name="lectureEditVisible" checked> {{/if}}
                            <span class="lever"></span>Public
                        </label>
                    </div>
                    <br>
                    <br>
                    <div class="center">
                        <div class="switch" style="display: none;">
                            <label>
                                <input type="checkbox" class="lectureEditRemove" lid="{{lid}}">
                                <span class="lever"></span>
                            </label>
                        </div>
                    </div>
                    <p class="green-text">a</p>
                    <div class="container">
                        {{#if lid}}
                        <h3 class="logo">Questions</h3> {{else}}
                        <h5 class="logo">Save Lecture To Add Questions</h5> {{/if}}
                        <br>
                    </div>
                </form>
            </div>
            <div id="questionsEditList">

            </div>
            <br> {{#if lid}}
            <div class="center-align">
                <a id="addMoreQuestionsButton" class="waves-effect waves-light btn purple">Add More Questions</a>
                <br>
                <br>
            </div>
            {{/if}}
            <div class="center-align">
                {{#if lid}}
                <a class="waves-effect waves-light btn green questionEditSaveButton" lid="{{lid}}">Save</a>
                <a class="btn backButton red waves-effect waves-light">Cancel</a>
                <br>
                <br> {{else}}
                <a class="waves-effect waves-light btn green newLectureSaveButton" cid="{{cid}}">Save</a>
                <a class="btn backButton red waves-effect waves-light">Cancel</a>
                <br>
                <br>
                <a class="waves-light waves-effect red btn lectureRemoveButton" lid="{{lid}}">MARK LECTURE FOR DELETION</a>
                <br> {{/if}}
            </div>
            <br>
        </div>
    </div>
</script>
<script id="classEditLectureTemplate" type="text/x-handlebars-template">
    <li class="collection-item purple">
        <div class="row">
            <div class="col s12">
                <span class="logo white-text">{{date}}: {{title}}</span>
            </div>
            <div class="col s12">
                <p class="white-text">{{description}}
                </p>
            </div>
            <div class="col s6">
                <a class="waves-light waves-effect red btn lectureEditButton" lid="{{lid}}">Edit</a>
            </div>
            <div class="col s6">
                <a class="waves-light waves-effect red btn lectureRemoveButton right" lid="{{lid}}">Remove</a>
            </div>
        </div>
    </li>
</script>
<script id="classEditStudentTemplate" type="text/x-handlebars-template">
    <tr>
        <td>{{uid}}</td>
        <td>{{username}}</td>
        <td>{{realname}}</td>
        <td><a class="waves-light waves-effect red btn-floating studentEnrolledRemoveButton" uid="{{uid}}" cid="{{cid}}" removed="false"><i class="material-icons">remove_circle</i></a></td>
    </tr>
</script>

</html>